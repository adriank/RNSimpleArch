# React Native Simple Architecture

## Why

React Native Simple Architecture (RNSA) allows developers to create apps in no time. It has scripts to add views and functionalities to the code.

RNSA follows Redux.js architecture as closely as possible. It delivers tools and scripts to generate boilerplate code and separates configurations from the actual code.

## Used technologies

### Handling state
- Redux & React Redux - surprisingly, this combo is the easiest way available to build an app
- Redux Thunk - can be replaced by Redux Sagas or another library to handle side effects/asynchronous code, but Redux Thunk is the easiest to start a project and then work with
- Immutable.JS - simple to learn, yet powerful library to make reducers immutable.

### Development tools

- Mocha
- Chai
- redux-immutable-state-invariant

### Others

- React Navigation - The most stable and easiest to use navigation library for React Native
- NativeBase - In terms of development speed, NativeBase has no competition
- React Native Splash Screen - Splash screen handling is installed by default

## Not included in React Native Simple Architecture

### Windows and Linux support

Mac is required for building iOS apps so the most common mobile app development platform is OSX. I personally don't have other platforms at hand, but if you'd like to add support for your preferred one, PRs are most welcomed.

### Typescript

RNSA is designed for projects that iterate fast and change specs often. Some call this stage of development 0 to 1. The emphasis is on the speed of development. Therefore, I start by delivering an architecture that doesn't include Typescript.

Adding Typescript template is scheduled after all features in this project works with plain ECMAScript.

If you are budgeting a development effort, consider the following:

- Adding types, resolving problems with missing or outdated types of libraries, etc generally adds around 1/3 more work to the project.
- Typescript is another thousands of lines of code that you add to your project. It needs to maintained.
- While Typescript grows in popularity, most Javascript developers either don't know the language at all or don't understand how to use types to their advantage. Analytics shows that more than 50% of all Typescript code on Github uses **Any** type, which is equivalent to not using Typescript at all.

How to decide:

- If your app functionality is already known and it's in maintenance mode rather than fast iteration mode, you should **consider adding Typescript** to the project.
- If you start a completely new app and your developers are from typed language background, **consider using Typescript**
- If you rewrite an already built app (in any other technology) and you know that the looks and functionality are not going to change, **consider using Typescript**
- If you start a project form a vague idea and you know that specification will change, **don't use Typescript** - it will add too much work.
- If your developers are from the web background and/or don't have formal education on typed languages, **don't use Typescript**. It can end up in an unmaintainable code base.

To add Typescript on your own:
1. Change `react-native init $1` to `react-native init $1 --template typescript` in file `/source/buildInitial.mac.sh`
2. Add types to files generated in `/source/makeDirTree.sh`

### Redux-persist

Refer to my blog post (TBA) on state persistence.

## Instalation

git clone

## Create newproject

There is one simple script to create an app:

`sh createProject.sh lowercasename`

where **lowercasename** is the name of the project (this is what package.json **name** field recommends).

## Usage

RNSA provides you with the following scripts:

### createReducer

Creates boilerplate to add functionality to your app.

`yarn createReducer underline_separated_lower_case_name`

### createContainer

Creates a React component aware of the state.

NOT IMPLEMENTED YET

### createComponent

Creates a React component unaware of the state.

NOT IMPLEMENTED YET

## Files to look in and files to avoid

RNSA offloads you from configuring too many things and writing too much boilerplate that is the biggest drawback of introducing Redux to a project.

Files that you probably never want to look in are:

- ./actions/actions.js - contents **will be** autogenerated by RNSA createReducer script
- ./actions/types.js - contents is autogenerated by RNSA createReducer script
- ./lib/configureStore.js - this file implements Redux store with side-effect handling and debugging. Changing this code is not recommended and RNSA update process will overwrite your changes. If you need to change something here, it's probably a good idea to (https://github.com/adriank/RNSimpleArch/issues)[open an issue].
- ./lib/connectHelper.js - this is a connector between Redux and React
- ./rootReducer.js - RNSA createReducer script **will add** necessary code automatically.

Files to work with:

- ./actions/actions.js - as of now you need to manually adopt actions to your use case. This file (and containing folder) is also the place to put side effect handling functions.
- ./rootReducer.js - as of now you need to manually add cases to the rootReducer.
- ./components - the folder with **all** dumb (state unaware) components.
- ./containers - the folder with **all** smart (state aware) components.
- ./reducers - the folder with **all** reducers
